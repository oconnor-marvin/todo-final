(()=>{"use strict";function e(e,t,n,c,o,r){const d=document.createElement("li");d.setAttribute("class","item"),d.setAttribute("data-details",c),d.setAttribute("data-priority",n),d.setAttribute("data-project",r);const l=document.createElement("div");l.setAttribute("class","to-do-item");const a=document.createElement("h5");a.setAttribute("class","title"),a.innerHTML=e,l.appendChild(a);const s=document.createElement("div");s.setAttribute("class","to-do-btns");const u=document.createElement("button");u.setAttribute("class","edit-btn items-btn"),u.innerHTML="edit";const m=document.createElement("button");m.setAttribute("class","details-btn items-btn"),m.innerHTML="details";const p=document.createElement("div");p.setAttribute("class","date"),p.innerHTML=t;const f=document.createElement("div");f.innerHTML='<i class="fa-solid fa-check"></i>';const g=document.createElement("div");g.innerHTML='<i class="fa-solid fa-trash"></i>',s.appendChild(u),s.appendChild(m),s.appendChild(p),s.appendChild(f),s.appendChild(g),d.appendChild(l),d.appendChild(s);const h=c;let v=o;return!0===v?d.classList.add("checked"):!1===v&&d.classList.remove("checked"),function(e){const t=e;t.addEventListener("click",(()=>{t.parentElement.parentElement.classList.toggle("checked"),i()}))}(f),function(e){const t=e;t.addEventListener("click",(()=>{t.parentElement.parentElement.remove(),i()}))}(g),function(e,t){let n=e,c=t;"high"===c?n.classList.add("high"):"med"===c?n.classList.add("med"):"low"===c?n.classList.add("low"):n.classList.add("unchecked")}(d,n),function(e,t){const n=e,c=t,o=document.getElementById("exitDetails"),r=document.querySelector(".details-text"),i=document.querySelector(".task-list-container"),d=document.querySelector(".details-popup");n.addEventListener("click",(()=>{""===t?r.innerHTML="<i>No details</i>":(r.innerHTML="",r.innerHTML=c),i.classList.add("active"),d.classList.remove("active")})),o.addEventListener("click",(()=>{r.innerHTML="",i.classList.remove("active"),d.classList.add("active")}))}(m,h),d}function t(){let t=document.getElementById("new-todo-title").value,n=document.getElementById("new-todo-details").value,c=document.getElementById("new-todo-date").value,o=document.getElementById("createSelectProject").value,r="";const i=document.getElementById("low-priority"),d=document.getElementById("med-priority"),l=document.getElementById("high-priority");return r=!0===i.checked?"low":!0===d.checked?"med":!0===l.checked?"high":"unchecked",e(t,c,r,n,!1,o)}function n(e){const t=document.getElementById("list"),n=e();t.appendChild(n),i(),c()}function c(){document.querySelectorAll(".edit-btn").forEach((e=>{e.addEventListener("click",(()=>{const t=e;var n;n=t,document.getElementById("edit-form").addEventListener("submit",(e=>{e.preventDefault(),n.parentElement.parentElement.remove(),i()})),function(){const e=document.querySelector(".popup-edit-container"),t=document.getElementById("closeEdit"),n=document.querySelector(".main-container");n.classList.add("active"),e.classList.remove("active"),t.addEventListener("click",(()=>{n.classList.remove("active"),e.classList.add("active"),o(),i()}))}(),function(e){let t=e,n=t.parentElement.parentElement.querySelector(".title"),c=t.parentElement.parentElement.getAttribute("data-details"),o=t.parentElement.parentElement.getAttribute("data-project"),r=t.parentElement.parentElement.getAttribute("data-priority"),i=t.parentElement.parentElement.querySelector(".date").innerHTML;const d=document.getElementById("edit-high-priority"),l=document.getElementById("edit-med-priority"),a=document.getElementById("edit-low-priority");let s=document.getElementById("edit-todo-title"),u=document.getElementById("edit-todo-details"),m=document.getElementById("edit-todo-date"),p=document.getElementById("editSelectProject");s.value=n.innerHTML,u.value=c;let f=r;m.value=i;const g=document.getElementById("select-label");"deleted-project"===o?(p.value="no-project",g.innerHTML='<i class="fa-solid fa-circle-exclamation"></i> Oops! Looks like this Todo\'s project was deleted',t.parentElement.parentElement.setAttribute("data-project","no-project")):p.value=o,"high"===f?d.checked=!0:"med"===f?l.checked=!0:"low"===f&&(a.checked=!0)}(t)}))}))}function o(){document.getElementById("select-label").innerText=""}function r(){const t=document.getElementById("edit-todo-title").value,n=document.getElementById("edit-todo-details").value,c=document.getElementById("edit-todo-date").value,o=document.getElementById("editSelectProject").value,r=document.getElementById("edit-high-priority"),i=document.getElementById("edit-med-priority");let d="";return d=!0===document.getElementById("edit-low-priority").checked?"low":!0===i.checked?"med":!0===r.checked?"high":"unchecked",e(t,c,d,n,!1,o)}function i(){const e=document.querySelectorAll(".item");let t=[];e.forEach((e=>{t.push({title:e.firstChild.firstChild.innerHTML,date:e.querySelector(".date").innerHTML,priority:e.getAttribute("data-priority"),details:e.getAttribute("data-details"),project:e.getAttribute("data-project"),checked:e.classList.contains("checked")})})),localStorage.setItem("list",JSON.stringify(t))}function d(){const e=document.querySelectorAll(".project");let t=[];e.forEach((e=>{t.push({projectName:e.innerHTML})})),localStorage.setItem("projectLs",JSON.stringify(t))}Math.pow(10,8);var l=36e5;function a(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function s(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function u(e,t){var n;a(1,arguments);var c=s(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==c&&1!==c&&0!==c)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,r=h(e);if(r.date){var i=v(r.date,c);o=E(i.restDateString,i.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var d,l=o.getTime(),u=0;if(r.time&&(u=L(r.time),isNaN(u)))return new Date(NaN);if(!r.timezone){var m=new Date(l+u),p=new Date(0);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return d=S(r.timezone),isNaN(d)?new Date(NaN):new Date(l+u+d)}var m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,f=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h(e){var t,n={},c=e.split(m.dateTimeDelimiter);if(c.length>2)return n;if(/:/.test(c[0])?t=c[0]:(n.date=c[0],t=c[1],m.timeZoneDelimiter.test(n.date)&&(n.date=e.split(m.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var o=m.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function v(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),c=e.match(n);if(!c)return{year:NaN,restDateString:""};var o=c[1]?parseInt(c[1]):null,r=c[2]?parseInt(c[2]):null;return{year:null===r?o:100*r,restDateString:e.slice((c[1]||c[2]).length)}}function E(e,t){if(null===t)return new Date(NaN);var n=e.match(p);if(!n)return new Date(NaN);var c=!!n[4],o=y(n[1]),r=y(n[2])-1,i=y(n[3]),d=y(n[4]),l=y(n[5])-1;if(c)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,d,l)?function(e,t,n){var c=new Date(0);c.setUTCFullYear(e,0,4);var o=7*(t-1)+n+1-(c.getUTCDay()||7);return c.setUTCDate(c.getUTCDate()+o),c}(t,d,l):new Date(NaN);var a=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(w[t]||(B(e)?29:28))}(t,r,i)&&function(e,t){return t>=1&&t<=(B(e)?366:365)}(t,o)?(a.setUTCFullYear(t,r,Math.max(o,i)),a):new Date(NaN)}function y(e){return e?parseInt(e):1}function L(e){var t=e.match(f);if(!t)return NaN;var n=I(t[1]),c=I(t[2]),o=I(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,c,o)?n*l+6e4*c+1e3*o:NaN}function I(e){return e&&parseFloat(e.replace(",","."))||0}function S(e){if("Z"===e)return 0;var t=e.match(g);if(!t)return 0;var n="+"===t[1]?-1:1,c=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(c*l+6e4*o):NaN}var w=[31,null,31,30,31,30,31,31,30,31,30,31];function B(e){return e%400==0||e%4==0&&e%100!=0}function T(e){a(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function b(e){a(1,arguments);var t=T(e);return t.setHours(0,0,0,0),t}function j(e,t){a(2,arguments);var n=b(e),c=b(t);return n.getTime()===c.getTime()}function N(e){return a(1,arguments),j(e,Date.now())}var k={};function C(){return k}function D(e,t){var n,c,o,r,i,d,l,u;a(1,arguments);var m=C(),p=s(null!==(n=null!==(c=null!==(o=null!==(r=null==t?void 0:t.weekStartsOn)&&void 0!==r?r:null==t||null===(i=t.locale)||void 0===i||null===(d=i.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==o?o:m.weekStartsOn)&&void 0!==c?c:null===(l=m.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=T(e),g=f.getDay(),h=(g<p?7:0)+g-p;return f.setDate(f.getDate()-h),f.setHours(0,0,0,0),f}function M(e,t,n){a(2,arguments);var c=D(e,n),o=D(t,n);return c.getTime()===o.getTime()}function q(e,t){return a(1,arguments),M(e,Date.now(),t)}function A(e,t){a(2,arguments);var n=T(e),c=T(t);return n.getFullYear()===c.getFullYear()&&n.getMonth()===c.getMonth()}function H(e){return a(1,arguments),A(Date.now(),e)}function O(){const e=document.querySelector(".popup-new-input"),t=document.querySelector(".main-container");e.classList.add("active"),t.classList.remove("active"),document.getElementById("form").reset()}const U=(e,t)=>{const n=e.title.toUpperCase(),c=t.title.toUpperCase();return n<c?-1:n>c?1:0},P=(e,t)=>{const n=e.title.toUpperCase(),c=t.title.toUpperCase();return n<c?1:n>c?-1:0},J=(e,t)=>function(e,t){a(2,arguments);var n=T(e),c=T(t),o=n.getTime()-c.getTime();return o<0?-1:o>0?1:o}(u(e.date),u(t.date)),x=(e,t)=>function(e,t){a(2,arguments);var n=T(e),c=T(t),o=n.getTime()-c.getTime();return o>0?-1:o<0?1:o}(u(e.date),u(t.date)),z=(e,t)=>{const n=e.priority,c=t.priority;return"high"===n&&"med"===c?-1:"med"===n&&"high"===c?1:"med"===n&&"low"===c?-1:"low"===n&&"med"===c?1:"high"===n&&"low"===c?-1:"low"===n&&"high"===c?1:0},F=(e,t)=>{const n=e.priority,c=t.priority;return"high"===n&&"med"===c?1:"med"===n&&"high"===c?-1:"med"===n&&"low"===c?1:"low"===n&&"med"===c?-1:"high"===n&&"low"===c?1:"low"===n&&"high"===c?-1:0};function Y(){document.querySelectorAll(".item").forEach((e=>{e.remove()}))}function Z(e){let t=document.getElementById("lsOrder").value;return"default"==t?e.sort():"a-z"==t?e.sort(U):"z-a"==t?e.sort(P):"date-soonest"==t?e.sort(J):"date-furthest"==t?e.sort(x):"priority-highest"==t?e.sort(z):"priority-lowest"==t&&e.sort(F),e}function $(){let e=JSON.parse(localStorage.getItem("list")),t=[];e.forEach((e=>{t.push(e)})),Z(t),K(t,[])}function R(){let e=JSON.parse(localStorage.getItem("list")),t=[],n=[];e.forEach((e=>{N(u(e.date))?t.push(e):n.push(e)})),Z(t),K(t,n)}function W(){let e=JSON.parse(localStorage.getItem("list")),t=[],n=[];e.forEach((e=>{q(u(e.date))?t.push(e):n.push(e)})),Z(t),K(t,n)}function G(){let e=JSON.parse(localStorage.getItem("list")),t=[],n=[];e.forEach((e=>{H(u(e.date))?t.push(e):n.push(e)})),Z(t),K(t,n)}function K(t,n){const c=document.getElementById("list"),o=document.querySelector(".hidden-div");t.forEach((t=>{let n=e(t.title,t.date,t.priority,t.details,t.checked,t.project);c.appendChild(n)})),n.forEach((t=>{let n=e(t.title,t.date,t.priority,t.details,t.checked,t.project);o.appendChild(n)}))}function Q(){const e=document.getElementById("home"),t=document.getElementById("today"),n=document.getElementById("week"),c=document.getElementById("month");e.classList.remove("selected-time-frame"),t.classList.remove("selected-time-frame"),n.classList.remove("selected-time-frame"),c.classList.remove("selected-time-frame")}function V(){const e=document.getElementById("createSelectProject"),t=document.getElementById("editSelectProject"),n=document.querySelectorAll(".project"),c=document.createElement("option");c.setAttribute("value","no-project"),c.innerHTML="No Project",e.appendChild(c),e.appendChild(c);const o=document.createElement("option");o.setAttribute("value","no-project"),o.innerHTML="No Project",t.appendChild(o),n.forEach((t=>{const n=document.createElement("option");n.setAttribute("value",t.innerHTML),n.innerHTML=t.innerHTML,e.appendChild(n)})),n.forEach((e=>{const n=document.createElement("option");n.setAttribute("value",e.innerHTML),n.innerHTML=e.innerHTML,t.appendChild(n)}))}function X(){const e=e=>{for(;e.lastChild;)e.removeChild(e.lastChild)},t=document.getElementById("createSelectProject"),n=document.getElementById("editSelectProject");e(t),e(n)}function _(e){const t=document.getElementById("newProjectBtn"),n=document.createElement("li");return n.setAttribute("class","project"),n.innerHTML=e,t.addEventListener("click",(()=>{n.classList.toggle("active")})),n}function ee(){let e=document.querySelectorAll(".project");const t=document.getElementById("home");e.forEach((e=>{e.addEventListener("click",(()=>{if(!e.classList.contains("active"))return 0;var n;e.classList.contains("selected")&&(t.classList.add("selected-time-frame"),Y(),$(),c()),e.remove(),n=e,document.querySelectorAll(".item").forEach((e=>{e.getAttribute("data-project")===n.innerHTML&&e.setAttribute("data-project","deleted-project")})),X(),V(),d(),i()}))}))}function te(){document.querySelectorAll(".project").forEach((e=>{e.addEventListener("click",(()=>{ne(),function(){const e=document.getElementById("home"),t=document.getElementById("today"),n=document.getElementById("week"),c=document.getElementById("month");e.classList.remove("selected-time-frame"),t.classList.remove("selected-time-frame"),n.classList.remove("selected-time-frame"),c.classList.remove("selected-time-frame")}(),Y(),e.classList.add("selected"),ce(e.innerHTML),c()}))}))}function ne(){document.querySelectorAll(".project").forEach((e=>{e.classList.remove("selected")}))}function ce(e){let t=JSON.parse(localStorage.getItem("list"));const n=[],c=[];t.forEach((t=>{t.project===e?n.push(t):c.push(t)})),Z(n),K(n,c)}function oe(){!function(){const e=document.querySelectorAll(".project");let t="";const n=document.getElementById("list").childNodes,c=document.getElementById("list"),o=document.querySelector(".hidden-div");e.forEach((e=>{e.classList.contains("selected")&&(t=e.innerHTML)})),""!==t&&n.forEach((e=>{e.getAttribute("data-project")!==t&&(c.removeChild(e),o.appendChild(e),i())}))}(),function(){const e=document.querySelectorAll(".timeframe");let t="";const n=document.getElementById("list"),c=document.querySelector(".hidden-div");e.forEach((e=>{e.classList.contains("selected-time-frame")&&(t=e.innerHTML)})),"Today"===t?document.getElementById("list").childNodes.forEach((e=>{N(u(e.querySelector(".date").innerHTML))||(n.removeChild(e),c.appendChild(e))})):"Week"===t?document.getElementById("list").childNodes.forEach((e=>{q(u(e.querySelector(".date").innerHTML))||(n.removeChild(e),c.appendChild(e))})):"Month"===t&&document.getElementById("list").childNodes.forEach((e=>{H(u(e.querySelector(".date").innerHTML))||(n.removeChild(e),c.appendChild(e))}))}()}(function(){const e=document.querySelector(".new-item-btn"),t=document.getElementById("closeNew");e.addEventListener("click",(()=>{!function(){const e=document.querySelector(".popup-new-input"),t=document.querySelector(".main-container");e.classList.remove("active"),t.classList.add("active")}()})),t.addEventListener("click",(()=>{O()}))})(),function(){const e=document.getElementById("home"),t=document.getElementById("today"),n=document.getElementById("week"),o=document.getElementById("month");e.addEventListener("click",(()=>{Q(),e.classList.add("selected-time-frame"),Y(),$(),c(),ne()})),t.addEventListener("click",(()=>{Q(),t.classList.add("selected-time-frame"),Y(),R(),c(),ne()})),n.addEventListener("click",(()=>{Q(),n.classList.add("selected-time-frame"),Y(),W(),c(),ne()})),o.addEventListener("click",(()=>{Q(),o.classList.add("selected-time-frame"),Y(),G(),c(),ne()}))}(),document.getElementById("form").addEventListener("submit",(e=>{e.preventDefault(),n(t),O(),i(),oe()})),document.getElementById("edit-form").addEventListener("submit",(e=>{e.preventDefault(),n(r),function(){const e=document.querySelector(".main-container"),t=document.querySelector(".popup-edit-container");e.classList.remove("active"),t.classList.add("active")}(),i(),o(),oe()})),function(t){const n=document.getElementById("list");let c=JSON.parse(localStorage.getItem("list"));c&&(c.sort(void 0),c.forEach((t=>{let c=e(t.title,t.date,t.priority,t.details,t.checked,t.project);n.appendChild(c)})))}(),function(){const e=document.querySelector(".projects");let t=JSON.parse(localStorage.getItem("projectLs"));t&&t.forEach((t=>{let n=_(t.projectName);e.appendChild(n)}))}(),function(){const e=document.getElementById("newProjectBtn"),t=document.querySelector(".new-project");e.addEventListener("click",(()=>{document.querySelectorAll(".project"),t.classList.toggle("active"),e.classList.toggle("active")}))}(),function(){const e=document.querySelector(".projects");document.querySelector(".new-project").addEventListener("submit",(t=>{const n=document.getElementById("newProjectInput").value;t.preventDefault();const c=_(n);e.appendChild(c),d(),function(){const e=document.getElementById("newProjectBtn"),t=document.querySelector(".new-project"),n=document.querySelectorAll(".project"),c=document.getElementById("newProjectInput");e.classList.remove("active"),t.classList.add("active"),c.value="",n.forEach((e=>{e.classList.remove("active")}))}(),X(),V(),te(),ee()}))}(),document.getElementById("lsOrder").onchange=function(){document.querySelectorAll(".project").forEach((e=>{e.classList.contains("selected")&&(Y(),ce(e.innerHTML))}));const e=document.getElementById("home"),t=document.getElementById("today"),n=document.getElementById("week"),o=document.getElementById("month");e.classList.contains("selected-time-frame")?(Q(),e.classList.add("selected-time-frame"),Y(),$(),c(),ne()):t.classList.contains("selected-time-frame")?(Q(),t.classList.add("selected-time-frame"),Y(),R(),c(),ne()):n.classList.contains("selected-time-frame")?(Q(),n.classList.add("selected-time-frame"),Y(),W(),c(),ne()):o.classList.contains("selected-time-frame")&&(Q(),o.classList.add("selected-time-frame"),Y(),G(),c(),ne())},V(),te(),ee(),c()})();